C51 COMPILER V9.54   MAIN                                                                  11/20/2022 20:33:50 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: F:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "LCD1602.h"
   2          #include "matrixKey.h"
   3          #include "Delay.h"
   4          
   5          void main(){
   6   1              
   7   1              unsigned char keyNum;
   8   1              //unsigned char password;
   9   1              unsigned int length = 0;
  10   1              //å¯†ç åˆå§‹å€¼ä¸ºä¸€ä¸ªå­—ç¬¦å‹æ•°ç»„ï¼Œå†…å®¹ä¸ºå­—ç¬¦ä¸²"xxxx"
  11   1              unsigned char key[4] = "xxxx";
  12   1              unsigned char *p = key;
  13   1              int i;
  14   1              
  15   1              LCD_Init();
  16   1              LCD_ShowString(1,1,"PassWord:");
  17   1              //LCD_ShowString(1,13,p);
  18   1              LCD_ShowString(2,1,p);
  19   1              
  20   1              while(1){
  21   2                      //LCD_ShowString(2,13,p);
  22   2                      keyNum = matrixKey();//å¾ªç¯æ‰«æè·å–é”®å€¼
  23   2                      //LCD_ShowNum(1,10,keyNum,2);
  24   2                      //å¦‚æœæŒ‰ä¸‹çš„æ˜¯æ•°å­—é”®
  25   2                      if(keyNum){
  26   3                              //LCD_ShowNum(2,15,keyNum,2);
  27   3                              if(keyNum <= 10){//å¦‚æœS1-S10æŒ‰é”®æŒ‰ä¸‹ï¼Œè¾“å…¥å¯†ç 
  28   4                                      //password = keyNum % 10;
  29   4                                      //å°†è¿”å›å€¼è½¬ä¸ºå­—ç¬¦ç±»å‹
  30   4                                      if(keyNum == 10){keyNum = '0';}
  31   4                                      else if(keyNum == 1){keyNum = '1';}
  32   4                                      else if(keyNum == 2){keyNum = '2';}
  33   4                                      else if(keyNum == 3){keyNum = '3';}
  34   4                                      else if(keyNum == 4){keyNum = '4';}
  35   4                                      else if(keyNum == 5){keyNum = '5';}
  36   4                                      else if(keyNum == 6){keyNum = '6';}
  37   4                                      else if(keyNum == 7){keyNum = '7';}
  38   4                                      else if(keyNum == 8){keyNum = '8';}
  39   4                                      else if(keyNum == 9){keyNum = '9';}
  40   4                                      //å¯†ç é•¿åº¦å°äº4æ—¶åœ¨å±å¹•çš„ç¬¬äºŒè¡Œæ­£å¸¸æ˜¾ç¤ºè¾“å…¥çš„æ•°å­—
  41   4                                      if(length < 4){
  42   5                                              LCD_ShowString(1,14,"   ");
  43   5                                              LCD_ShowChar(2,length+1,keyNum);
  44   5                                              //å°†è¿”å›çš„é”®å€¼èµ‹ç»™å¯†ç ä¸­å¯¹åº”çš„ä½ï¼Œå¦‚å¯†ç é•¿åº¦ä¸º0æ—¶ï¼Œé”®å€¼èµ‹ç»™å¯†ç ç¬¬ä¸€ä½
             -ï¼Œå¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ç´¢å¼•ä¹Ÿä¸º0
  45   5                                              key[length] = keyNum;
  46   5                                              //LCD_ShowString(1,13,p);
  47   5                                              //å¯†ç é•¿åº¦åŠ 1 
  48   5                                              length++;
  49   5                                      }else{
  50   5                                              //LCD_ShowString(2,10,"err");
  51   5                                              //å¯†ç é•¿åº¦å¤§äºç­‰äº4æ—¶å°†å¯†ç é‡ç½®ä¸ºå­—ç¬¦ä¸²"xxxx"
  52   5                                              /*for(i = 0;i < 4;i++){
  53   5                                                      key[i] = 'x';
C51 COMPILER V9.54   MAIN                                                                  11/20/2022 20:33:50 PAGE 2   

  54   5                                              }
  55   5                                              LCD_ShowString(2,1,p);*/
  56   5                                              //å°†å¯†ç é•¿åº¦é‡ç½®ä¸º0
  57   5                                              /*length = 0;*/
  58   5                                              //setTimeout(1000);
  59   5                                              //LCD_ShowString(2,10,"000");
  60   5                                      }
  61   4                              }else{
  62   4                                      //å¦‚æœæŒ‰ä¸‹çš„ä¸æ˜¯æ•°å­—é”®
  63   4                                      if(keyNum == 11){
  64   5                                              //è¿”å›å€¼ä¸º11æ—¶ä»£è¡¨æäº¤å¯†ç 
  65   5                                              LCD_ShowString(2,1,p);
  66   5                                              //å¦‚æœè¾“å…¥çš„å¯†ç ä¸º"1111"åˆ™å¯†ç æ­£ç¡®ï¼Œå±å¹•æ˜¾ç¤º"OK!"ï¼ŒåŒæ—¶å°†å¯†ç é•¿åº¦ç½®0ã€‚
  67   5                                              if(key[0] == '1' && key[1] == '1' && key[2] == '1' && key[3] == '1'){
  68   6                                                      LCD_ShowString(1,14,"OK!");
  69   6                                                      for(i = 0;i < 4;i++){
  70   7                                                              key[i] = 'x';
  71   7                                                      }
  72   6                                                      length = 0;
  73   6                                                      LCD_ShowString(2,1,p);
  74   6                                              }else{
  75   6                                                      //å¦‚æœè¾“å…¥çš„å¯†ç ä¸ä¸º"1111"åˆ™å¯†ç é”™è¯¯ï¼Œå±å¹•æ˜¾ç¤º"ERR"ï¼ŒåŒæ—¶å°†å¯†ç é•¿åº¦ç½®0ã€
             -‚
  76   6                                                      LCD_ShowString(1,14,"ERR");
  77   6                                                      for(i = 0;i < 4;i++){
  78   7                                                              key[i] = 'x';
  79   7                                                      }
  80   6                                                      length = 0;
  81   6                                                      LCD_ShowString(2,1,p);
  82   6                                              }
  83   5                                      }
  84   4                                      //å¦‚æœè¿”å›å€¼ä¸º12ä»£è¡¨é€€æ ¼
  85   4                                      if(keyNum == 12){
  86   5                                              if(length){
  87   6                                                      //å°†æœ€è¿‘è¾“å…¥çš„ä¸€ä½åˆ é™¤å¹¶ç½®"x"
  88   6                                                      key[length-1] = 'x';
  89   6                                                      LCD_ShowString(2,1,p);
  90   6                                                      //å‡å»ä¸€ä½å¯†ç é•¿åº¦
  91   6                                                      length--;
  92   6                                              }
  93   5                                      }
  94   4                                      if(keyNum == 16){//è¿”å›å€¼ä¸º16ï¼Œæ¸…ç©º
  95   5                                              LCD_ShowString(1,14,"   ");
  96   5                                              for(i = 0;i < 4;i++){
  97   6                                                      key[i] = 'x';
  98   6                                              }
  99   5                                              length = 0;
 100   5                                              LCD_ShowString(2,1,p);
 101   5                                      }
 102   4                              }
 103   3                      }
 104   2              }
 105   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    480    ----
   CONSTANT SIZE    =     26    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      12
   IDATA SIZE       =   ----    ----
C51 COMPILER V9.54   MAIN                                                                  11/20/2022 20:33:50 PAGE 3   

   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
